<li
  routerLinkActive="active-menu-parent"
  [ngClass]="{ 'active-menu-parent': active, 'parent-menu': type === 'parent' }"
  attr.debug="{{ type }} url {{ item.url }} router: {{ item.routerLink }} active {{ active }}"
  >
  @switch (type) {
    <!-- not clickable menu item -->
    @case ('label') {
      <div>
        <span class="layout-menuitem-text">{{ item.label }}</span>
      </div>
    }
    <!-- external href -->
    @case ('href') {
      <a
        [attr.href]="sanitize(item.url)"
        (click)="itemClick($event)"
        (keydown.enter)="itemClick($event)"
        [attr.target]="item.target"
        [attr.tabindex]="0"
        (mouseenter)="onMouseEnter()"
        pRipple
        [pTooltip]="item.label || ''"
        [tooltipDisabled]="active || !(root && uiConfig.isSlim && !uiConfig.isMobile)"
        >
        <i [ngClass]="'pi-' + item.icon || ''" class="layout-menuitem-icon pi"></i>
        <span class="layout-menuitem-text">{{ item.label }}</span>
        @if (item.badge && !root) {
          <span class="p-tag p-component ml-auto" [ngClass]="item.badgeStyleClass || ''"
            >{{ item.badge }}</span
            >
          }
        </a>
      }
      <!-- internal router link -->
      @case ('routerLink') {
        <a
          (click)="itemClick($event)"
          [routerLink]="[item.routerLink]"
          routerLinkActive="active-menuitem-routerlink"
    [routerLinkActiveOptions]="
        item.routerLinkActiveOptions || {
          paths: 'subset',
          matrixParams: 'ignored',
          queryParams: 'ignored',
          fragment: 'ignored'
        }
      "
        [attr.target]="item.target"
        [attr.tabindex]="0"
        (mouseenter)="onMouseEnter()"
        pRipple
        [pTooltip]="item.label || ''"
        [tooltipDisabled]="active || !(root && uiConfig.isSlim && !uiConfig.isMobile)"
        >
        <i [ngClass]="'pi-' + item.icon || ''" class="layout-menuitem-icon pi"></i>
        <span class="layout-menuitem-text">{{ item.label }}</span>
        @if (item.badge && !root) {
          <span class="p-tag p-component ml-auto" [ngClass]="item.badgeStyleClass || ''"
            >{{ item.badge }}</span
            >
          }
        </a>
      }
      <!-- parent menu item -->
      @case ('parent') {
        <a
          (click)="itemClick($event)"
          [attr.tabindex]="0"
          (mouseenter)="onMouseEnter()"
          pRipple
          [pTooltip]="item.label || ''"
          [tooltipDisabled]="active || !(root && uiConfig.isSlim && !uiConfig.isMobile)"
          >
          <i [ngClass]="'pi-' + item.icon || ''" class="layout-menuitem-icon pi"></i>
          <span class="layout-menuitem-text">{{ item.label }}</span>
          @if (item.badge && !root) {
            <span class="p-tag p-component ml-auto" [ngClass]="item.badgeStyleClass || ''"
              >{{ item.badge }}</span
              >
            }
            <i class="pi pi-fw pi-angle-down layout-submenu-toggler"></i>
          </a>
          <!-- <ul [@children]="root ? 'visible' : active ? 'visibleAnimated' : 'hiddenAnimated'" > -->
          @if (item.items && active && item.visible !== false) {
            <ul
              class="level-2"
              [@children]="active ? 'visibleAnimated' : 'hiddenAnimated'"
              >
              <!-- <ocx-submenu *ngFor="let child of item.items; index as i;" [item]="child" [index]="i" [class]="child.badgeStyleClass"></ocx-submenu> -->
              @for (child of item.items; track child; let i = $index) {
                <ocx-submenu [item]="child" [index]="i" [class]="child.badgeStyleClass"></ocx-submenu>
              }
            </ul>
          }
        }
        @default {
          <div>{{ item.label }}<i class="pi pi-warn"></i></div>
        }
      }
    </li>
